{"version":3,"file":"static/js/815.a172486a.chunk.js","mappings":"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","sources":["pages/UserInfo/styled.js","services/FileServices.js","pages/UserInfo/components/Profile.jsx","pages/UserInfo/components/ChangePassword.jsx","pages/UserInfo/index.jsx"],"sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const UserInfoWrapper = styled.div`\r\n  padding-top: 24px;\r\n\r\n  .ant-divider-horizontal {\r\n    margin: 0;\r\n  }\r\n\r\n  .flex {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .ant-upload {\r\n    width: 100%;\r\n  }\r\n`\r\n","import http from '.'\r\nimport { apiUploadFile } from './apiRouter'\r\n\r\nconst uploadFile = (body) =>\r\n  http.post(apiUploadFile, body, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  })\r\n\r\nconst FileServices = { uploadFile }\r\n\r\nexport default FileServices\r\n","/* eslint-disable no-unused-vars */\r\nimport { Col, Divider, Form, Image, Input, Row, Spin, Upload } from 'antd'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport IconSvg from '../../../components/SvgIcon'\r\nimport { getBase64 } from '../../../helper/utils'\r\nimport Button from '../../../components/Button'\r\nimport UserServices from '../../../services/UserServices'\r\nimport FileServices from '../../../services/FileServices'\r\nimport { toast } from 'sonner'\r\n\r\nfunction Profile() {\r\n  const [form] = Form.useForm()\r\n  const fileCoverRef = useRef()\r\n\r\n  const [previewOpen, setPreviewOpen] = useState(false)\r\n  const [previewImage, setPreviewImage] = useState('')\r\n  const [changeAvatar, setChangeAvatar] = useState(false)\r\n  const [changeCoverImg, setChangeCoverImg] = useState(false)\r\n  const [fileCover, setFileCover] = useState({})\r\n  const [linkImg, setLinkImg] = useState(\r\n    process.env.PUBLIC_URL + '/image/cover_image.png'\r\n  )\r\n  const [fileAvatar, setFileAvatar] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [disabled, setDisabled] = useState(true)\r\n\r\n  const uploadProps = {\r\n    accept: 'image/png, image/jpeg',\r\n    maxCount: 1,\r\n    multiple: false,\r\n  }\r\n\r\n  const handlePreview = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj)\r\n    }\r\n    setPreviewImage(file.url || file.preview)\r\n    setPreviewOpen(true)\r\n  }\r\n\r\n  const onChangeFileAvatar = ({ fileList: newFileList }) => {\r\n    setChangeAvatar(true)\r\n    setFileAvatar(newFileList)\r\n  }\r\n\r\n  const getInfo = () => {\r\n    setLoading(true)\r\n    UserServices.getMe()\r\n      .then((res) => {\r\n        if (res.isOk) {\r\n          const userInfo = res.data\r\n\r\n          form.setFieldsValue({\r\n            referalID: userInfo.referral_code,\r\n            fullname: userInfo.fullname,\r\n            email: userInfo.username,\r\n            description: userInfo.description,\r\n          })\r\n          !!userInfo?.profile_img &&\r\n            setFileAvatar([\r\n              {\r\n                url:\r\n                  process.env.REACT_APP_API +\r\n                  '/api/v1/files/download?fileName=' +\r\n                  userInfo?.profile_img,\r\n              },\r\n            ])\r\n          !!userInfo?.cover_img &&\r\n            setLinkImg(\r\n              process.env.REACT_APP_API +\r\n                '/api/v1/files/download?fileName=' +\r\n                userInfo?.cover_img\r\n            )\r\n        }\r\n      })\r\n      .catch(() => {})\r\n      .finally(() => setLoading(false))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getInfo()\r\n  }, [])\r\n\r\n  const handleSubmit = async () => {\r\n    const values = form.getFieldsValue()\r\n\r\n    let responAvatar = null\r\n    let responCover = null\r\n    setLoading(true)\r\n    if (fileAvatar.length && changeAvatar) {\r\n      responAvatar = await FileServices.uploadFile({\r\n        file: fileAvatar[0]?.originFileObj,\r\n      })\r\n    }\r\n    if (!!fileCover && changeCoverImg) {\r\n      responCover = await FileServices.uploadFile({\r\n        file: fileCover,\r\n      })\r\n    }\r\n\r\n    const body = {\r\n      description: values.description,\r\n      fullname: values.fullname,\r\n      ...(responAvatar?.isOk && {\r\n        profile_img: responAvatar.data.file_name,\r\n      }),\r\n      ...(responCover?.isOk && {\r\n        cover_img: responCover.data.file_name,\r\n      }),\r\n    }\r\n\r\n    const res = await UserServices.updateUser(body)\r\n    if (res?.isOk) {\r\n      toast.success('Success')\r\n      getInfo()\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleChangeCoverPhoto = () => {\r\n    const uploadedFile = fileCoverRef.current.files[0]\r\n    const cachedURL = URL.createObjectURL(uploadedFile)\r\n    if (uploadedFile?.size > 1024 * 5 * 1024)\r\n      return toast.error('Kích thước ảnh quá lớn')\r\n    setChangeCoverImg(true)\r\n    setLinkImg(cachedURL)\r\n    setFileCover(uploadedFile)\r\n  }\r\n\r\n  return (\r\n    <Spin spinning={loading}>\r\n      <div className=\"border-[1px] border-solid border-[#d9d9d9]\">\r\n        <div className=\"flex justify-between px-[26px] py-7\">\r\n          <div className=\"font-semibold\">My Profile</div>\r\n          <div\r\n            className=\"flex cursor-pointer\"\r\n            onClick={() => setDisabled(false)}\r\n          >\r\n            <IconSvg name=\"icon-pencil\" />\r\n            Edit Profile\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n\r\n        <div className=\"px-[26px] pt-6\">\r\n          <div className=\"group relative mb-6\">\r\n            <img src={linkImg} alt=\"\" className=\"h-[200px] w-full\" />\r\n\r\n            <label className=\"absolute left-0 top-0  flex h-[200px] w-full cursor-pointer items-center justify-center\">\r\n              <div className=\"hidden text-white group-hover:block\">\r\n                <IconSvg name=\"icon-image\" />\r\n                Upload\r\n              </div>\r\n              <input\r\n                disabled={disabled}\r\n                hidden\r\n                ref={fileCoverRef}\r\n                type=\"file\"\r\n                id=\"avatar\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeCoverPhoto}\r\n              />\r\n            </label>\r\n          </div>\r\n          <Form\r\n            form={form}\r\n            colon={false}\r\n            labelCol={{ span: 6 }}\r\n            labelAlign=\"left\"\r\n          >\r\n            <Row>\r\n              <Col span={16}>\r\n                <Form.Item name=\"referalID\" label=\"Referal ID\">\r\n                  <Input disabled={disabled} />\r\n                </Form.Item>\r\n                <Form.Item name=\"fullname\" label=\"Game name\">\r\n                  <Input disabled={disabled} />\r\n                </Form.Item>\r\n                <Form.Item name=\"email\" label=\"Email\">\r\n                  <Input disabled={disabled} />\r\n                </Form.Item>\r\n                <Form.Item name=\"description\" label=\"Description\">\r\n                  <Input.TextArea disabled={disabled} />\r\n                </Form.Item>\r\n                <Form.Item label=\" \">\r\n                  <Button disabled={disabled} onClick={handleSubmit}>\r\n                    Save\r\n                  </Button>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8} className=\"flex flex-col justify-center\">\r\n                <Form.Item name=\"avatar\" label=\"\">\r\n                  <Upload\r\n                    {...uploadProps}\r\n                    disabled={disabled}\r\n                    listType=\"picture-circle\"\r\n                    fileList={fileAvatar}\r\n                    onChange={onChangeFileAvatar}\r\n                    onPreview={handlePreview}\r\n                    beforeUpload={(file) => {\r\n                      setFileAvatar([...fileAvatar, file])\r\n                      return false\r\n                    }}\r\n                  >\r\n                    {fileAvatar.length < 1 && 'Avatar'}\r\n                  </Upload>\r\n                </Form.Item>\r\n\r\n                {fileAvatar.length < 1 && <div>Maximum capacity 5 MB</div>}\r\n                {fileAvatar.length < 1 && <div>Format: .JPEG, .PNG</div>}\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n        {previewImage && (\r\n          <Image\r\n            wrapperStyle={{\r\n              display: 'none',\r\n            }}\r\n            preview={{\r\n              visible: previewOpen,\r\n              onVisibleChange: (visible) => setPreviewOpen(visible),\r\n              afterOpenChange: (visible) => !visible && setPreviewImage(''),\r\n            }}\r\n            src={previewImage}\r\n          />\r\n        )}\r\n      </div>\r\n    </Spin>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import { Col, Divider, Form, Input, Row, Spin } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport Button from '../../../components/Button'\r\nimport UserServices from '../../../services/UserServices'\r\nimport { toast } from 'sonner'\r\n\r\nconst ChangePassword = () => {\r\n  const [form] = Form.useForm()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleSubmit = () => {\r\n    form\r\n      .validateFields()\r\n      .then((values) => {\r\n        setLoading(true)\r\n        const body = {\r\n          curr_password: values.password,\r\n          new_password: values.newPassword,\r\n        }\r\n\r\n        UserServices.changePassword(body)\r\n          .then((res) => {\r\n            if (res.isOk) {\r\n              form.resetFields()\r\n              toast.success('Success')\r\n            }\r\n          })\r\n          .catch(() => {})\r\n          .finally(() => setLoading(false))\r\n      })\r\n      .catch(() => {})\r\n  }\r\n\r\n  return (\r\n    <div className=\"border-[1px] border-solid border-[#d9d9d9]\">\r\n      <div className=\"flex justify-between px-[26px] py-7\">\r\n        <div className=\"font-semibold\">Change Password</div>\r\n      </div>\r\n      <Divider />\r\n      <Spin spinning={loading}>\r\n        <div className=\"px-[26px] pt-6\">\r\n          <Form\r\n            form={form}\r\n            colon={false}\r\n            labelCol={{ span: 6 }}\r\n            labelAlign=\"left\"\r\n            requiredMark={false}\r\n          >\r\n            <Row>\r\n              <Col span={20}>\r\n                <Form.Item\r\n                  label=\"Recent Password\"\r\n                  name={'password'}\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: 'required',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input.Password />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                  label=\"New Password\"\r\n                  name={'newPassword'}\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: 'required',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input.Password />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                  label=\"Confirm New Password\"\r\n                  name={'confirmPass'}\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: 'required',\r\n                    },\r\n                    ({ getFieldValue }) => ({\r\n                      validator(_, value) {\r\n                        if (!value || getFieldValue('newPassword') === value) {\r\n                          return Promise.resolve()\r\n                        }\r\n                        return Promise.reject(new Error('Mật khẩu không khớp'))\r\n                      },\r\n                    }),\r\n                  ]}\r\n                >\r\n                  <Input.Password />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\" \">\r\n                  <Button onClick={handleSubmit}>Save</Button>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </Spin>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChangePassword\r\n","import { LogoutOutlined, UserOutlined } from '@ant-design/icons'\r\nimport { Col, Divider, Row, Spin } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { LayoutCommon } from '../../layouts/styled'\r\nimport { UserInfoWrapper } from './styled'\r\nimport Profile from './components/Profile'\r\nimport ChangePassword from './components/ChangePassword'\r\nimport AuthServices from '../../services/AuthServices'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction UserInfo() {\r\n  const navigate = useNavigate()\r\n  const [tabActive, setTabActive] = useState(1)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleLogout = () => {\r\n    setLoading(true)\r\n    AuthServices.logOut()\r\n      .then((res) => {\r\n        if (res.isOk) {\r\n          localStorage.clear()\r\n          navigate('/')\r\n        }\r\n      })\r\n      .catch(() => {})\r\n      .then(() => setLoading(false))\r\n  }\r\n\r\n  return (\r\n    <UserInfoWrapper>\r\n      <Spin spinning={loading}>\r\n        <LayoutCommon>\r\n          <div className=\"mb-6 flex h-[100px] justify-between bg-[#FFF7E6] px-6\">\r\n            <div className=\" text-xl font-semibold\">Profile</div>\r\n            <img src={'./image/play_earn.png'} alt=\"\" height={90} />\r\n          </div>\r\n          <Row gutter={32}>\r\n            <Col span={6}>\r\n              <div className=\"rounded-lg bg-[#F8F8F8] px-4\">\r\n                <div className=\"flex h-12 gap-2\">\r\n                  <UserOutlined />\r\n                  My Account\r\n                </div>\r\n                <Divider />\r\n\r\n                <div\r\n                  className={`flex h-12 cursor-pointer pl-5 ${tabActive === 1 && 'text-[#FF9C09]'}`}\r\n                  onClick={() => setTabActive(1)}\r\n                >\r\n                  Profile\r\n                </div>\r\n                <Divider />\r\n                <div\r\n                  className={`flex h-12 cursor-pointer pl-5 ${tabActive === 2 && 'text-[#FF9C09]'}`}\r\n                  onClick={() => setTabActive(2)}\r\n                >\r\n                  Change Password\r\n                </div>\r\n\r\n                <Divider />\r\n                <div\r\n                  className=\"flex h-12 cursor-pointer gap-2 \"\r\n                  onClick={handleLogout}\r\n                >\r\n                  <LogoutOutlined />\r\n                  Log out\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col span={18}>\r\n              {tabActive === 1 ? <Profile /> : <ChangePassword />}\r\n            </Col>\r\n          </Row>\r\n        </LayoutCommon>\r\n      </Spin>\r\n    </UserInfoWrapper>\r\n  )\r\n}\r\n\r\nexport default UserInfo\r\n"],"names":["UserInfoWrapper","styled","div","_templateObject","_taggedTemplateLiteral","uploadFile","body","http","post","apiUploadFile","headers","form","Form","useForm","fileCoverRef","useRef","previewOpen","setPreviewOpen","useState","previewImage","setPreviewImage","changeAvatar","setChangeAvatar","changeCoverImg","setChangeCoverImg","fileCover","setFileCover","linkImg","setLinkImg","fileAvatar","setFileAvatar","loading","setLoading","disabled","setDisabled","getInfo","UserServices","getMe","then","res","isOk","userInfo","data","setFieldsValue","referalID","referral_code","fullname","email","username","description","profile_img","url","process","cover_img","catch","finally","useEffect","_jsx","Spin","spinning","children","_jsxs","className","onClick","IconSvg","name","Divider","src","alt","hidden","ref","type","id","accept","onChange","handleChangeCoverPhoto","uploadedFile","current","files","cachedURL","URL","createObjectURL","size","toast","error","colon","labelCol","span","labelAlign","Row","Col","Item","label","Input","TextArea","Button","async","_responAvatar","_responCover","values","getFieldsValue","responAvatar","responCover","_fileAvatar$","length","FileServices","file","originFileObj","file_name","updateUser","success","Upload","maxCount","multiple","listType","fileList","_ref","newFileList","onPreview","preview","getBase64","beforeUpload","Image","wrapperStyle","display","visible","onVisibleChange","afterOpenChange","ChangePassword","requiredMark","rules","required","message","Password","getFieldValue","validator","_","value","Promise","reject","Error","resolve","handleSubmit","validateFields","curr_password","password","new_password","newPassword","changePassword","resetFields","navigate","useNavigate","tabActive","setTabActive","LayoutCommon","height","gutter","UserOutlined","concat","handleLogout","AuthServices","logOut","localStorage","clear","LogoutOutlined","Profile"],"sourceRoot":""}