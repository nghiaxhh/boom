"use strict";(self.webpackChunkboom_arena=self.webpackChunkboom_arena||[]).push([[11],{5011:(e,s,l)=>{l.r(s),l.d(s,{default:()=>M});var i=l(1686),a=l(9800),r=l(1645),n=l(8354),d=l(5043),t=l(3216),c=l(7351),o=l(1857),x=l(9887),m=l(9748),p=l(8457),u=l(3922),h=l(9790),j=l(6328),v=l(579);const f=()=>{const[e]=m.A.useForm(),[s,l]=(0,d.useState)(!1);return(0,v.jsxs)("div",{className:"border-[1px] border-solid border-[#d9d9d9]",children:[(0,v.jsx)("div",{className:"flex justify-between px-[26px] py-7",children:(0,v.jsx)("div",{className:"font-semibold",children:"Change Password"})}),(0,v.jsx)(n.A,{}),(0,v.jsx)(i.A,{spinning:s,children:(0,v.jsx)("div",{className:"px-[26px] pt-6",children:(0,v.jsx)(m.A,{form:e,colon:!1,labelCol:{span:7},labelAlign:"left",requiredMark:!1,children:(0,v.jsx)(a.A,{children:(0,v.jsxs)(r.A,{span:20,children:[(0,v.jsx)(m.A.Item,{label:"Recent Password",name:"password",rules:[{required:!0,message:"This field is required!"}],children:(0,v.jsx)(p.A.Password,{})}),(0,v.jsx)(m.A.Item,{label:"New Password",name:"newPassword",rules:[{required:!0,message:"This field is required!"}],children:(0,v.jsx)(p.A.Password,{})}),(0,v.jsx)(m.A.Item,{label:"Confirm New Password",name:"confirmPass",rules:[{required:!0,message:"This field is required!"},e=>{let{getFieldValue:s}=e;return{validator:(e,l)=>l&&s("newPassword")!==l?Promise.reject(new Error("Password is not valid!")):Promise.resolve()}}],children:(0,v.jsx)(p.A.Password,{})}),(0,v.jsx)(m.A.Item,{label:" ",children:(0,v.jsx)(u.A,{onClick:()=>{e.validateFields().then((s=>{l(!0);const i={curr_password:s.password,new_password:s.newPassword};h.A.changePassword(i).then((s=>{s.isOk&&(e.resetFields(),j.o.success("Success"))})).catch((()=>{})).finally((()=>l(!1)))})).catch((()=>{}))},children:"Save"})})]})})})})})]})};var g=l(7473),b=l(3492),A=l(1956),w=l(2113),N=l(9724);const F={uploadFile:e=>w.A.post(N.mC,e,{headers:{"Content-Type":"multipart/form-data"}})};var y=l(3003),P=l(5097),C=l(184),S=l(6833);const k=function(){const[e]=m.A.useForm(),s=(0,d.useRef)(),{user:l}=(0,y.d4)((e=>e.common)),{getInfo:t,loading:o}=(0,P.U)(),[x,f]=(0,d.useState)(!1),[w,N]=(0,d.useState)(""),[k,I]=(0,d.useState)(!1),[_,D]=(0,d.useState)(!1),[T,O]=(0,d.useState)(!1),[M,U]=(0,d.useState)({}),[q,z]=(0,d.useState)(""),[E,R]=(0,d.useState)([]),[L,B]=(0,d.useState)(!1),[G,V]=(0,d.useState)(!0);return(0,d.useEffect)((()=>{e.setFieldsValue({referalID:l.referalID,fullname:l.fullname,email:l.email,description:l.description}),l.avatarUrl&&R([{url:l.avatarUrl}]),z(l.coverImg?l.coverImg:"/image/cover_image.png")}),[l]),(0,v.jsx)(i.A,{spinning:L||o,children:(0,v.jsxs)("div",{className:"border-[1px] border-solid border-[#d9d9d9]",children:[(0,v.jsxs)("div",{className:"flex justify-between px-[26px] py-7",children:[(0,v.jsx)("div",{className:"font-semibold",children:"My Profile"}),(0,v.jsxs)("div",{className:"flex cursor-pointer",onClick:()=>V(!1),children:[(0,v.jsx)(c.A,{name:"icon-pencil"}),"Edit Profile"]})]}),(0,v.jsx)(n.A,{}),(0,v.jsxs)("div",{className:"px-[26px] pt-6",children:[(0,v.jsxs)("div",{className:"group relative mb-6",children:[(0,v.jsx)("img",{src:q,alt:"",className:"h-[200px] w-full"}),(0,v.jsxs)("label",{className:"absolute left-0 top-0  flex h-[200px] w-full cursor-pointer items-center justify-center",children:[(0,v.jsxs)("div",{className:"hidden text-white group-hover:block",children:[(0,v.jsx)(c.A,{name:"icon-image"}),"Upload"]}),(0,v.jsx)("input",{disabled:G,hidden:!0,ref:s,type:"file",id:"avatar",accept:"image/*.png,.jpg",onChange:()=>{const e=s.current.files[0],l=URL.createObjectURL(e);if((null===e||void 0===e?void 0:e.size)>5242880)return j.o.error("File size larger than 5MB");O(!0),z(l),U(e)}})]})]}),(0,v.jsx)(m.A,{form:e,labelCol:{span:6},labelAlign:"left",children:(0,v.jsxs)(a.A,{children:[(0,v.jsxs)(r.A,{span:16,children:[(0,v.jsx)(m.A.Item,{name:"referalID",label:"Referal ID",children:G?(0,v.jsxs)("div",{className:"relative w-[200px]",children:[null===l||void 0===l?void 0:l.referalID,(0,v.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer",children:k?(0,v.jsx)(C.CMH,{size:22,color:"green"}):(0,v.jsx)(S.WXx,{size:20,onClick:()=>{I(!0),navigator.clipboard.writeText(null===l||void 0===l?void 0:l.referalID),setTimeout((()=>{I(!1)}),1500)}})})]}):(0,v.jsx)(p.A,{disabled:!0})}),(0,v.jsx)(m.A.Item,{name:"fullname",label:"Game name",children:G?(0,v.jsx)("div",{className:"relative",children:null===l||void 0===l?void 0:l.fullname}):(0,v.jsx)(p.A,{})}),(0,v.jsx)(m.A.Item,{name:"email",label:"Email",children:G?(0,v.jsx)("div",{className:"relative",children:null===l||void 0===l?void 0:l.email}):(0,v.jsx)(p.A,{disabled:!0})}),(0,v.jsx)(m.A.Item,{name:"description",label:"Description",children:G?(0,v.jsx)("div",{className:"relative",children:null===l||void 0===l?void 0:l.description}):(0,v.jsx)(p.A.TextArea,{})}),(0,v.jsxs)(a.A,{style:{marginBottom:25},children:[(0,v.jsx)(r.A,{span:6}),(0,v.jsx)(u.A,{disabled:G,onClick:async()=>{var s,l;const i=e.getFieldsValue();let a=null,r=null;var n;(B(!0),E.length&&_)&&(a=await F.uploadFile({file:null===(n=E[0])||void 0===n?void 0:n.originFileObj}));M&&T&&(r=await F.uploadFile({file:M}));const d={description:i.description,fullname:i.fullname,...(null===(s=a)||void 0===s?void 0:s.isOk)&&{profile_img:a.data.file_name},...(null===(l=r)||void 0===l?void 0:l.isOk)&&{cover_img:r.data.file_name}},c=await h.A.updateUser(d);null!==c&&void 0!==c&&c.isOk&&(j.o.success("Success"),t(),V(!0)),B(!1)},children:"Save"})]})]}),(0,v.jsxs)(r.A,{span:8,className:"flex flex-col justify-center",children:[(0,v.jsx)(m.A.Item,{name:"avatar",label:"",children:(0,v.jsx)(g.A,{accept:"image/png, image/jpeg",maxCount:1,multiple:!1,disabled:G,listType:"picture-circle",fileList:E,onChange:e=>{var s;let{fileList:l}=e;if((null===(s=l[0])||void 0===s?void 0:s.size)>5242880)return j.o.error("File size larger than 5MB");D(!0),R(l)},onPreview:async e=>{e.url||e.preview||(e.preview=await(0,A.In)(e.originFileObj)),N(e.url||e.preview),f(!0)},beforeUpload:()=>!1,children:E.length<1&&"Avatar"})}),(0,v.jsx)("div",{children:"Maximum capacity 5 MB"}),(0,v.jsx)("div",{children:"Format: .JPG, .JPEG, .PNG"})]})]})})]}),w&&(0,v.jsx)(b.A,{wrapperStyle:{display:"none"},preview:{visible:x,onVisibleChange:e=>f(e),afterOpenChange:e=>!e&&N("")},src:w})]})})};var I,_=l(7528);const D=l(4905).Ay.div(I||(I=(0,_.A)(["\n  padding-top: 24px;\n\n  .ant-divider-horizontal {\n    margin: 0;\n  }\n\n  .flex {\n    display: flex;\n    align-items: center;\n  }\n"])));var T=l(6213);const O=()=>{const[e,s]=(0,d.useState)(!1),[l,a]=(0,d.useState)(""),[r,t]=(0,d.useState)(),{user:c}=(0,y.d4)((e=>e.common));return(0,d.useEffect)((()=>{s(!0),T.A.get("".concat("http://85.190.240.13/api/nft-passport/balance/"+(null===c||void 0===c?void 0:c.web3_wallet_address))).then((e=>{if(200===(null===e||void 0===e?void 0:e.status)){const s=e.data.balance[0];t(s),a(null!==s&&void 0!==s&&s.img?s.img:"/image/passport.png")}})).catch((()=>{})).finally((()=>s(!1)))}),[]),(0,v.jsxs)("div",{className:"border-[1px] border-solid border-[#d9d9d9]",children:[(0,v.jsx)("div",{className:"flex justify-between px-[26px] py-7",children:(0,v.jsx)("div",{className:"font-semibold",children:"NFT Passport"})}),(0,v.jsx)(n.A,{}),(0,v.jsx)(i.A,{spinning:e,children:(0,v.jsxs)("div",{className:"border-[rgba(0, 0, 0, 0.2)] mx-auto my-[62px]\r\nflex w-[310px] flex-col rounded-[10px] border border-solid shadow-[0_4px_5px_1px_rgba(0,0,0,0.25)]",children:[(0,v.jsx)("img",{src:l,alt:"",className:"mx-auto mt-4 w-[280px] rounded-t-[10px]"}),(0,v.jsxs)("div",{className:"relative -top-2 w-full px-[22px]",children:[(0,v.jsxs)("div",{className:"mb-7 flex w-full items-center justify-between",children:[(0,v.jsx)("div",{className:"rounded-[5px] bg-[#D9D9D9] shadow-[0_4px_10px_0_rgba(0,0,0,0.5)]",children:(0,v.jsx)("img",{src:"/image/header_logo.png",alt:"",className:"px-[3px] py-[9px]"})}),(0,v.jsx)("div",{className:"text-lg font-semibold uppercase",children:null===r||void 0===r?void 0:r.name}),(0,v.jsx)("img",{src:"./image/check.png",alt:""})]}),(0,v.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-[10px]",children:[(0,v.jsx)("div",{children:"Card ID"}),(0,v.jsx)("div",{className:"text-lg font-semibold",children:null===r||void 0===r?void 0:r.tokenId})]}),(0,v.jsx)("div",{className:"text-xl font-bold",children:"NFT PASSPORT"})]})]})]})})]})};const M=function(){const e=(0,t.Zp)(),[s,l]=(0,d.useState)(1),[m,p]=(0,d.useState)(!1);return(0,v.jsx)(D,{children:(0,v.jsx)(i.A,{spinning:m,children:(0,v.jsxs)(o.c,{children:[(0,v.jsxs)("div",{className:"mb-6 flex h-[100px] justify-between bg-[#FFF7E6] px-6",children:[(0,v.jsx)("div",{className:" text-xl font-semibold",children:"Profile"}),(0,v.jsx)("img",{src:"./image/play_earn.png",alt:"",height:90})]}),(0,v.jsxs)(a.A,{gutter:32,children:[(0,v.jsx)(r.A,{span:6,children:(0,v.jsxs)("div",{className:"rounded-lg bg-[#F8F8F8] px-4",children:[(0,v.jsxs)("div",{className:"flex h-12 gap-2",children:[(0,v.jsx)(c.A,{name:"icon-user"}),"My Account"]}),(0,v.jsx)(n.A,{}),(0,v.jsx)("div",{className:"flex h-12 cursor-pointer pl-5 ".concat(1===s&&"text-[#FF9C09]"),onClick:()=>l(1),children:"Profile"}),(0,v.jsx)(n.A,{}),(0,v.jsx)("div",{className:"flex h-12 cursor-pointer pl-5 ".concat(3===s&&"text-[#FF9C09]"),onClick:()=>l(3),children:"NFT Passport"}),(0,v.jsx)(n.A,{}),(0,v.jsx)("div",{className:"flex h-12 cursor-pointer pl-5 ".concat(2===s&&"text-[#FF9C09]"),onClick:()=>l(2),children:"Change Password"}),(0,v.jsx)(n.A,{}),(0,v.jsxs)("div",{className:"flex h-12 cursor-pointer gap-2 text-[#FF4D4F]",onClick:()=>{p(!0),x.A.logOut().then((s=>{s.isOk&&(localStorage.clear(),e("/"))})).catch((()=>{})).then((()=>p(!1)))},children:[(0,v.jsx)(c.A,{name:"icon-logout"}),"Log out"]})]})}),(0,v.jsxs)(r.A,{span:18,children:[1===s&&(0,v.jsx)(k,{}),2===s&&(0,v.jsx)(f,{}),3===s&&(0,v.jsx)(O,{})]})]})]})})})}}}]);
//# sourceMappingURL=11.40ee6187.chunk.js.map